pm=t=>{window.parent.postMessage(t,"*")},bs=(t,e)=>{const[n,i,r]=t.replace("#","").match(/.{2}/g),s=t=>-1==Math.sign(t)||0==Math.sign(t)?"00":1===t.toString(16).length?`0${t.toString(16)}`:t.toString(16).length>=3?"ff":t.toString(16);return`#${s(parseInt(n,16)+e)}${s(parseInt(i,16)+e)}${s(parseInt(r,16)+e)}`},c=(t,e)=>{const n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("fill-rule","evenodd"),n.setAttribute("clip-rule","evenodd"),n.setAttribute("d","M6 -0.000183105L11 -5.41806e-05C11 -5.41806e-05 13 0.0930882 13 2.49982C13 4.90655 11 4.99982 11 4.99982H6C5.44771 4.99982 5 5.44753 5 5.99981V31.0106C5 31.5629 5.44771 32.0106 5.99999 32.0106H30.9877C31.54 32.0106 31.9877 31.5629 31.9877 31.0106L32 26C32 26 31.9877 24 34.4877 24C36.9877 24 36.9877 26 36.9877 26V31.0106C36.9877 34.3244 34.3014 37.0106 30.9877 37.0106H5.99999C2.68629 37.0106 0 34.3243 0 31.0106V5.99981C0 2.6861 2.68629 -0.000183105 6 -0.000183105Z"),n.setAttribute("fill","white");const i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d","M16.1336 -0.000118643L34.8782 -0.000107914C36.0209 -0.000922487 36.8858 1.0932 36.8866 2.23664L36.9877 21.069C36.9885 22.2125 36.4663 23.1875 35.3236 23.1884C34.4503 23.189 33.8845 22.5666 33.19 21.8027C32.9757 21.5669 32.7491 21.3176 32.4974 21.069L25.3827 14.0418C25.3827 14.0418 11.7823 27.7844 11.3894 28.2094C10.9964 28.6344 9.81768 29.6425 8.5 28.2887C7.18232 26.9349 8.53271 25.3878 8.53271 25.3878C8.53271 25.3878 22.1244 11.6852 22.5261 11.2203C22.5261 11.2203 17.3994 5.99994 15.8994 4.49994C14 2.5 13.495 1.99999 13.8994 0.999941C14.3037 -0.000107884 14.9895 0.000694046 16.1296 -0.000115782L16.1336 -0.000118643Z"),i.setAttribute("fill","white");const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("width","37"),r.setAttribute("height","38"),r.setAttribute("viewBox","0 0 37 38"),r.setAttribute("fill","none"),r.setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("class","hyperlink"),r.appendChild(n),r.appendChild(i);const s=document.createElement("div");s.setAttribute("class","mouseover_hyperlink"),s.appendChild(r);const o=document.createElement("img");o.setAttribute("src",t.icon_url),o.setAttribute("class","icon_img");const c=document.createElement("div");c.setAttribute("class","mouseover_icon"),c.appendChild(o);const a=document.createElement("a");a.setAttribute("class","mouseover"),a.style.backgroundColor=bs(t.color,-100)+"80",a.onclick=(()=>{pm({type:"open_url",payload:{url:"https://www.youtube.com/watch?v="+e.video_id}})}),a.appendChild(c),a.appendChild(s);const l=document.createElement("iframe");l.setAttribute("credentialless",""),l.setAttribute("crossorigin",""),l.setAttribute("anonymous",""),l.setAttribute("src","https://www.youtube.com/embed/"+e.video_id+"?autoplay=1&amp;mute=1&amp;controls=0&amp;disablekb=1&amp;modestbranding=1&amp;"),l.setAttribute("frameboarder","0"),l.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"),l.setAttribute("allowfullscreen",""),l.setAttribute("class","video");const d=document.createElement("div");return d.setAttribute("class","video-container"),d.setAttribute("style",'background-image: url("https://i.ytimg.com/vi/'+e.video_id+'/sddefault.jpg")'),d.appendChild(l),d.appendChild(a),d},cm=t=>{mi=document.createElement("img"),mi.setAttribute("src",t.icon_url),mi.setAttribute("class","icon_img"),mi.setAttribute("style","margin-left: 0%; !important; width:25%;"),m=document.createElement("a"),m.setAttribute("class","mouseover"),m.setAttribute("style","background-color: "+t.color+"FF; opacity: 1; justify-content: center;"),m.appendChild(mi);const e=document.createElement("iframe");e.setAttribute("class","video");const n=document.createElement("div");return n.setAttribute("class","video-container"),n.appendChild(e),n.appendChild(m),n};cb=(()=>{const t=document.createElement("iframe");t.setAttribute("class","video");const e=document.createElement("div");return e.appendChild(t),e});const i=()=>{const t=document.createElement("a");t.setAttribute("class","offline-string"),t.textContent="今は誰も配信していないようです...";const e=document.createElement("div");e.setAttribute("class","offline-message"),e.appendChild(t);const n=document.createElement("div");n.setAttribute("class","offline-background"),n.appendChild(e),document.body.appendChild(n)};window.onload=(()=>{fetch("https://api.nyak.blue/charact/list/event").then(t=>t.json()).then(t=>{const e=document.getElementById("main");0!=t.live.length&&(t.live.forEach(n=>{v=c(t.member[n.from],n),e.appendChild(v)}),Array(3-t.live.length%3).fill(1).forEach(()=>{e.appendChild(cb())})),0==t.live.length&&(Object.keys(t.member).forEach(n=>{e.appendChild(cm(t.member[n]))}),Array(3-Object.keys(t.member).length%3).fill(1).forEach(()=>{e.appendChild(cb())}),i())}).catch(t=>null)});